// call SimpleFunction.test2
// push_Label
1 @RETLABEL1
2 D=A
3 @SP
4 AM=M+1
5 A=A-1
6 M=D
// push_LCL
7 LCL
8 D=M
9 @SP
10 AM=M+1
11 A=A-1
12 M=D
// push_ARG
13 ARG
14 D=M
15 @SP
16 AM=M+1
17 A=A-1
18 M=D
// push_THIS
19 THIS
20 D=M
21 @SP
22 AM=M+1
23 A=A-1
24 M=D
// push_THAT
25 THAT
26 D=M
27 @SP
28 AM=M+1
29 A=A-1
30 M=D
// set_ARG
31 @SP
32 D=M
33 @5
34 D=D-A
35 @2
36 D=D-A
37 @ARG
38 M=D
// ser_LCL
39 @SP
40 D=M
41 @LCL
42 M=D
// goto_func
43 @SimpleFunction.test
44 0;JMP
// set_retlabel
(RETLABEL1)
// function SimpleFunction.test 2
(SimpleFunction.test)
// push constant 0
45 @0
46 D=A
47 @SP
48 AM=M+1
49 A=A-1
50 M=D
// push constant 0
51 @0
52 D=A
53 @SP
54 AM=M+1
55 A=A-1
56 M=D
// push local 0
57 @LCL
58 D=M
59 @0
60 A=A+D
61 D=M
62 @SP
63 AM=M+1
64 A=A-1
65 M=D
// push local 1
66 @LCL
67 D=M
68 @1
69 A=A+D
70 D=M
71 @SP
72 AM=M+1
73 A=A-1
74 M=D
// add
75 @SP
76 AM=M-1
77 D=M
78 A=A-1
79 M=D+M
// not
80 @SP
81 A=M-1
82 M=!M
// push argument 0
83 @ARG
84 D=M
85 @0
86 A=A+D
87 D=M
88 @SP
89 AM=M+1
90 A=A-1
91 M=D
// add
92 @SP
93 AM=M-1
94 D=M
95 A=A-1
96 M=D+M
// push argument 1
97 @ARG
98 D=M
99 @1
100 A=A+D
101 D=M
102 @SP
103 AM=M+1
104 A=A-1
105 M=D
// sub
106 @SP
107 AM=M-1
108 D=M
109 A=A-1
110 M=M-D
// return
// set_endFrame
111 @LCL
112 D=M
113 @endFrame
114 M=D
// set_retAddr
115 @endFrame
116 D=M
117 @5
118 A=D-A
119 D=M
120 @retAddr1
121 M=D
// get_retvalue
122 @SP
123 AM=M-1
124 D=M
125 @ARG
126 A=M
127 M=D
// reset_SP
128 @ARG
129 D=M
130 @1
131 D=D+A
132 @SP
133 M=D
// restore_THAT
134 @endFrame
135 D=M
136 @1
137 A=D-A
138 D=M
139 @THAT
140 M=D
// restore_THIS
141 @endFrame
142 D=M
143 @2
144 A=D-A
145 D=M
146 @THIS
147 M=D
// restore_ARG
148 @endFrame
149 D=M
150 @3
151 A=D-A
152 D=M
153 @ARG
154 M=D
// restore_LCL
155 @endFrame
156 D=M
157 @4
158 A=D-A
159 D=M
160 @LCL
161 M=D
// goto_retAddr
162 @retAddr1
163 A=M
164 0;JMP
